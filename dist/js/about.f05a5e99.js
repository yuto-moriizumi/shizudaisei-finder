(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"159b":function(e,t,c){var o=c("da84"),n=c("fdbc"),l=c("17c2"),a=c("9112");for(var r in n){var s=o[r],i=s&&s.prototype;if(i&&i.forEach!==l)try{a(i,"forEach",l)}catch(u){i.forEach=l}}},"17c2":function(e,t,c){"use strict";var o=c("b727").forEach,n=c("a640"),l=c("ae40"),a=n("forEach"),r=l("forEach");e.exports=a&&r?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},"3afa":function(e,t,c){"use strict";c.r(t);c("7db0"),c("b0c0");var o=c("7a23"),n={class:"container-fluid"},l={class:"alert alert-primary p-0"},a={class:"row align-items-center"},r={class:"mx-auto mb-0"},s={class:"container-fluid"},i={class:"row"},u=Object(o["g"])("div",{class:"col-xl-1"},null,-1),d={class:"col"},f=Object(o["g"])("h1",{class:"text-center text-sm-left"},"検索条件",-1),b={class:"row align-items-baseline"},O=Object(o["g"])("p",{class:"col-auto"},"から",-1),j=Object(o["g"])("p",{class:"col-auto"},"まで",-1),p={class:"custom-control custom-checkbox col-auto"},m=Object(o["g"])("label",{class:"custom-control-label",for:"include_follow"},"フォローしている人を含む",-1),g={class:"mb-3"},h={class:"row align-items-baseline"},v=Object(o["g"])("legend",{class:"col-form-label col-12 col-lg-1"},"学部",-1),w=Object(o["g"])("small",{class:"text-muted"},"チェックを外すとその学部と思われるユーザを除外します（正確ではありません）",-1),x=Object(o["g"])("div",{class:"text-center"},[Object(o["g"])("button",{class:"btn btn-primary col-8"},"検索")],-1),E={class:"row align-items-center mb-2"},y=Object(o["g"])("h1",{class:"col-12 col-sm-6 text-center text-sm-left"},"検索結果",-1),_={key:0,class:"alert alert-success"},k=Object(o["g"])("span",{"aria-hidden":"true"},"×",-1),A={key:1,class:"container"},I=Object(o["g"])("div",{class:"alert alert-danger row"}," 検索結果が見つかりませんでした ",-1),U=Object(o["g"])("div",{class:"col-xl-1"},null,-1),C={class:"container-fluid"},F={class:"card-deck"};function N(e,t,c,N,S,T){var L=Object(o["v"])("UserCard");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",n,[Object(o["g"])("div",l,[Object(o["g"])("div",a,[Object(o["g"])("p",r,[Object(o["g"])("img",{src:e.profileImgUrl,alt:""},null,8,["src"]),Object(o["f"])("You logged in as "+Object(o["x"])(e.name),1)])])])]),Object(o["g"])("div",s,[Object(o["g"])("div",i,[u,Object(o["g"])("div",d,[f,Object(o["g"])("form",{class:"mx-5 mb-3",onSubmit:t[4]||(t[4]=function(){return e.find.apply(e,arguments)})},[Object(o["g"])("div",b,[Object(o["E"])(Object(o["g"])("input",{type:"date",class:"col-auto from-control","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.from=t})},null,512),[[o["A"],e.from]]),O,Object(o["E"])(Object(o["g"])("input",{type:"date",class:"col-auto from-control","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.to=t})},null,512),[[o["A"],e.to]]),j,Object(o["g"])("div",p,[Object(o["E"])(Object(o["g"])("input",{id:"include_follow",type:"checkbox",class:"custom-control-input","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.include_follow=t})},null,512),[[o["z"],e.include_follow]]),m])]),Object(o["g"])("fieldset",g,[Object(o["g"])("div",h,[v,(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(e.faculties,(function(t,c){return Object(o["p"])(),Object(o["d"])("div",{class:"custom-control custom-checkbox col-12 col-sm-6 col-md-4 col-lg-auto mr-xl-4",key:c},[Object(o["E"])(Object(o["g"])("input",{id:c,type:"checkbox",class:"custom-control-input","onUpdate:modelValue":function(t){return e.faculties[c].include=t}},null,8,["id","onUpdate:modelValue"]),[[o["z"],e.faculties[c].include]]),Object(o["g"])("label",{class:"custom-control-label",for:c},Object(o["x"])(t.name),9,["for"])])})),128))]),w]),x],32),Object(o["g"])("div",E,[y,Object(o["g"])("button",{class:"btn btn-primary btn-lg col-8 col-sm-auto text-center text-sm-left mx-auto",onClick:t[5]||(t[5]=function(){return e.follow.apply(e,arguments)})}," 一括フォロー ")]),e.showFollowAlert?(Object(o["p"])(),Object(o["d"])("div",_,[Object(o["f"])(Object(o["x"])(e.followedCount)+"人フォローしました ",1),Object(o["g"])("button",{type:"button",class:"close","aria-label":"Close",onClick:t[6]||(t[6]=function(t){return e.showFollowAlert=!1})},[k])])):Object(o["e"])("",!0),e.notFound?(Object(o["p"])(),Object(o["d"])("div",A,[I])):Object(o["e"])("",!0)]),U])]),Object(o["g"])("div",C,[Object(o["g"])("div",F,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(e.users,(function(e){return Object(o["p"])(),Object(o["d"])(L,{key:e.USER_ID,user:e,showButton:!0},null,8,["user"])})),128))])])],64)}c("4160"),c("a15b"),c("d81d"),c("4fad"),c("159b");var S=c("d4ec"),T=c("bee2"),L=c("262e"),R=c("2caf"),G=c("9ab4"),M=c("ce1f"),D=c("2957"),J=function(e){Object(L["a"])(c,e);var t=Object(R["a"])(c);function c(){var e;return Object(S["a"])(this,c),e=t.apply(this,arguments),e.name="",e.profileImgUrl="./img/github.png",e.from="2020-01-01",e.to="2020-12-31",e.include_follow=!1,e.users=Array(),e.showFollowAlert=!1,e.followedCount=0,e.notFound=!1,e.faculties={hss:{name:"人文社会科学部",include:!0},edu:{name:"教育学部",include:!0},sci:{name:"理学部",include:!0},agr:{name:"農学部",include:!0},inf:{name:"情報学部",include:!0},eng:{name:"工学部",include:!0}},e}return Object(T["a"])(c,[{key:"mounted",value:function(){var e=this,t=new XMLHttpRequest;t.open("GET","../api/users/auth/"),t.send(null),t.onloadend=function(){var c=JSON.parse(t.responseText);console.log(c),e.name=c.name,null===e.name&&(window.location.href="../twitter/auth.php"),e.profileImgUrl=c.img_url}}},{key:"find",value:function(e){var t=this;e.preventDefault(),this.showFollowAlert=!1,console.log(this.from,this.to,this.include_follow);var c=new XMLHttpRequest,o="../api/users/?from="+this.from+"&to="+this.to+"&include_follow="+this.include_follow+Object.entries(this.faculties).map((function(e){return"&"+e[0]+"="+e[1].include})).join("");console.log(o),c.open("GET",o),c.send(null),c.onloadend=function(){var e=JSON.parse(c.responseText);console.log(e),t.users=e.users.map((function(e){return{ID:e.id,USER_NAME:e.name,USER_SCREEN_NAME:e.screen_name,IMG:e.img_url,CONTENT:e.content,CREATED_AT:e.created_at,IS_FOLLOWING:e.is_following}})),t.notFound=0==t.users.length}}},{key:"follow",value:function(){var e=this;this.followedCount=0,this.users.forEach((function(t){if(!1===t.IS_FOLLOWING){var c=new XMLHttpRequest;c.open("GET","../api/users/follow/"+t.ID),c.send(null),c.onloadend=function(){var o=JSON.parse(c.responseText);console.log(o),e.followedCount+=1,t.IS_FOLLOWING=!0}}})),this.showFollowAlert=!0}}]),c}(M["b"]);J=Object(G["a"])([Object(M["a"])({components:{UserCard:D["a"]}})],J);var V=J;V.render=N;t["default"]=V},4160:function(e,t,c){"use strict";var o=c("23e7"),n=c("17c2");o({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"4fad":function(e,t,c){var o=c("23e7"),n=c("6f53").entries;o({target:"Object",stat:!0},{entries:function(e){return n(e)}})},"6f53":function(e,t,c){var o=c("83ab"),n=c("df75"),l=c("fc6a"),a=c("d1e7").f,r=function(e){return function(t){var c,r=l(t),s=n(r),i=s.length,u=0,d=[];while(i>u)c=s[u++],o&&!a.call(r,c)||d.push(e?[c,r[c]]:r[c]);return d}};e.exports={entries:r(!0),values:r(!1)}},"7db0":function(e,t,c){"use strict";var o=c("23e7"),n=c("b727").find,l=c("44d2"),a=c("ae40"),r="find",s=!0,i=a(r);r in[]&&Array(1)[r]((function(){s=!1})),o({target:"Array",proto:!0,forced:s||!i},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),l(r)},a15b:function(e,t,c){"use strict";var o=c("23e7"),n=c("44ad"),l=c("fc6a"),a=c("a640"),r=[].join,s=n!=Object,i=a("join",",");o({target:"Array",proto:!0,forced:s||!i},{join:function(e){return r.call(l(this),void 0===e?",":e)}})},a640:function(e,t,c){"use strict";var o=c("d039");e.exports=function(e,t){var c=[][e];return!!c&&o((function(){c.call(null,t||function(){throw 1},1)}))}}}]);
//# sourceMappingURL=about.f05a5e99.js.map